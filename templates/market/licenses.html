{% extends "base.html" %}

{% block title %}
{% if license %}
  {{ license.name }} ‚Äî –õ—ñ—Ü–µ–Ω–∑—ñ—è STL | Proofly
{% else %}
  –õ—ñ—Ü–µ–Ω—Ü—ñ—ó STL ‚Äî Proofly
{% endif %}
{% endblock %}

{% block content %}
<style>
  .lic-public-wrap{
    max-width:960px;
    margin:24px auto 40px;
    padding:0 12px;
  }
  .lic-public-header{
    margin-bottom:18px;
  }
  .lic-public-title{
    font-size:24px;
    font-weight:600;
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    align-items:center;
  }
  .lic-public-badge{
    font-size:11px;
    padding:2px 8px;
    border-radius:999px;
    border:1px solid #1f2937;
    background:#020617;
    opacity:.85;
  }
  .lic-public-sub{
    font-size:13px;
    opacity:.8;
    margin-top:6px;
  }

  .lic-public-meta{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    margin-top:8px;
    font-size:12px;
  }
  .lic-public-tag{
    padding:2px 7px;
    border-radius:999px;
    border:1px solid #1f2937;
    background:#020617;
  }

  .lic-public-card{
    background:#0f1117;
    border:1px solid #242735;
    border-radius:12px;
    padding:16px 18px;
    margin-bottom:16px;
  }
  .lic-public-card h2{
    margin:0 0 10px 0;
    font-size:18px;
  }
  .lic-public-card h3{
    margin:14px 0 8px;
    font-size:16px;
  }
  .lic-public-help{
    font-size:12px;
    opacity:.8;
    margin-top:4px;
  }

  .lic-public-list{
    margin-top:4px;
  }
  .lic-public-list ul{
    padding-left:18px;
    margin:4px 0;
    font-size:13px;
  }

  .lic-public-code{
    font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size:11px;
    padding:2px 7px;
    border-radius:999px;
    border:1px solid #1f2937;
    background:#020617;
    opacity:.9;
  }

  .lic-public-body{
    margin-top:8px;
    font-size:13px;
    line-height:1.6;
    white-space:pre-wrap;
  }

  .lic-public-footer{
    margin-top:16px;
    font-size:12px;
    opacity:.7;
  }

  .lic-public-other{
    margin-top:10px;
    display:flex;
    flex-wrap:wrap;
    gap:6px;
    font-size:12px;
  }
  .lic-public-link-btn{
    display:inline-flex;
    align-items:center;
    gap:4px;
    padding:4px 10px;
    border-radius:999px;
    border:1px solid #1f2937;
    background:#020617;
    text-decoration:none;
    color:#e5e7eb;
    font-size:12px;
    cursor:pointer;
  }
  .lic-public-link-btn:hover{
    border-color:#2563eb;
  }
</style>

<div class="lic-public-wrap">
  {% if license %}
    <header class="lic-public-header">
      <div class="lic-public-title">
        <span>{{ license.name }}</span>
        <span class="lic-public-code">{{ license.code }}</span>
        {% if license.is_default %}
          <span class="lic-public-badge">‚≠ê –î–µ—Ñ–æ–ª—Ç–Ω–∞ –¥–ª—è Proofly</span>
        {% endif %}
      </div>
      <div class="lic-public-sub">
        {{ license.short_title or license.summary or '–õ—ñ—Ü–µ–Ω–∑—ñ—è STL/3D-–º–æ–¥–µ–ª–µ–π –¥–ª—è Proofly.market.' }}
      </div>

      <div class="lic-public-meta">
        <span class="lic-public-tag">
          {% if license.type == 'proofly' %}
            Proofly License
          {% elif license.type == 'cc' %}
            Creative Commons
          {% else %}
            Custom
          {% endif %}
        </span>

        {% if license.allow_commercial %}
          <span class="lic-public-tag">üí∞ Commercial OK</span>
        {% else %}
          <span class="lic-public-tag">üö´ Commercial use</span>
        {% endif %}

        {% if license.allow_print %}
          <span class="lic-public-tag">üßµ Prints allowed</span>
        {% else %}
          <span class="lic-public-tag">üö´ Prints</span>
        {% endif %}

        {% if license.allow_remix %}
          <span class="lic-public-tag">üß© Remix</span>
        {% endif %}

        {% if license.allow_redistribute %}
          <span class="lic-public-tag">üåê Redistribute STL</span>
        {% endif %}

        {% if license.share_alike %}
          <span class="lic-public-tag">‚ôª Share-alike</span>
        {% endif %}

        {% if license.region %}
          <span class="lic-public-tag">üåç {{ license.region }}</span>
        {% endif %}
      </div>
    </header>

    <section class="lic-public-card">
      <h2>–ö–æ—Ä–æ—Ç–∫–æ –ø—Ä–æ –ø—Ä–∞–≤–∞ —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è</h2>
      <div class="lic-public-list">
        <ul>
          {% if license.allow_print %}
            <li>–î–æ–∑–≤–æ–ª–µ–Ω–æ –¥—Ä—É–∫ –º–æ–¥–µ–ª—ñ –¥–ª—è –æ—Å–æ–±–∏—Å—Ç–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.</li>
          {% else %}
            <li>–î—Ä—É–∫ –º–æ–¥–µ–ª—ñ –¥–ª—è –æ—Å–æ–±–∏—Å—Ç–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–µ –¥–æ–∑–≤–æ–ª–µ–Ω–æ (–¥—É–∂–µ –∂–æ—Ä—Å—Ç–∫—ñ —É–º–æ–≤–∏).</li>
          {% endif %}

          {% if license.allow_commercial %}
            {% if license.max_prints and license.max_prints > 0 %}
              <li>–î–æ–∑–≤–æ–ª–µ–Ω–æ –ø—Ä–æ–¥–∞–≤–∞—Ç–∏ –¥–æ {{ license.max_prints }} –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–∏—Ö –¥—Ä—É–∫—ñ–≤ –∑ –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–¥–±–∞–Ω–Ω—è.</li>
            {% else %}
              <li>–î–æ–∑–≤–æ–ª–µ–Ω–æ –ø—Ä–æ–¥–∞–≤–∞—Ç–∏ –Ω–∞–¥—Ä—É–∫–æ–≤–∞–Ω—ñ –º–æ–¥–µ–ª—ñ (–±–µ–∑ –ª—ñ–º—ñ—Ç—É –∫—ñ–ª—å–∫–æ—Å—Ç—ñ, —è–∫—â–æ —ñ–Ω—à–µ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ –∞–≤—Ç–æ—Ä–æ–º).</li>
            {% endif %}
          {% else %}
            <li>–ü—Ä–æ–¥–∞–∂ –Ω–∞–¥—Ä—É–∫–æ–≤–∞–Ω–∏—Ö –º–æ–¥–µ–ª–µ–π –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏–π. –õ—ñ—Ü–µ–Ω–∑—ñ—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è –Ω–µ–∫–æ–º–µ—Ä—Ü—ñ–π–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.</li>
          {% endif %}

          {% if license.allow_remix %}
            <li>–î–æ–∑–≤–æ–ª–µ–Ω–æ —Ä–µ–º—ñ–∫—Å–∏ —Ç–∞ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –º–æ–¥–µ–ª—ñ.
              {% if license.share_alike %}
                –†–µ–º—ñ–∫—Å–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏—Å—è –ø—ñ–¥ —Ç—ñ—î—é –∂ –∞–±–æ —Å—É–º—ñ—Å–Ω–æ—é –ª—ñ—Ü–µ–Ω–∑—ñ—î—é (share-alike).
              {% endif %}
            </li>
          {% else %}
            <li>–†–µ–º—ñ–∫—Å–∏ —Ç–∞ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –º–æ–¥–µ–ª—ñ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ –±–µ–∑ –æ–∫—Ä–µ–º–æ–≥–æ –¥–æ–∑–≤–æ–ª—É –∞–≤—Ç–æ—Ä–∞.</li>
          {% endif %}

          {% if license.allow_redistribute %}
            <li>–î–æ–∑–≤–æ–ª–µ–Ω–æ –ø–æ—à–∏—Ä—é–≤–∞—Ç–∏ STL-—Ñ–∞–π–ª –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —É–º–æ–≤ —Ü—ñ—î—ó –ª—ñ—Ü–µ–Ω–∑—ñ—ó.</li>
          {% else %}
            <li>–ü–æ—à–∏—Ä–µ–Ω–Ω—è STL-—Ñ–∞–π–ª—É –∑–∞ –º–µ–∂–∞–º–∏ Proofly –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–µ (—Ç—ñ–ª—å–∫–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –¥–∂–µ—Ä–µ–ª–æ).</li>
          {% endif %}

          {% if license.require_attribution %}
            <li>–ù–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –∞–≤—Ç–æ—Ä–∞ –º–æ–¥–µ–ª—ñ —É –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è—Ö, –æ–ø–∏—Å–∞—Ö —Ç–∞ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö –ø—Ä–æ–¥–∞–∂—É –¥—Ä—É–∫—ñ–≤.</li>
          {% else %}
            <li>–í–∫–∞–∑—É–≤–∞—Ç–∏ –∞–≤—Ç–æ—Ä–∞ –Ω–µ–æ–±–æ–≤ º—è–∑–∫–æ–≤–æ (attribution –Ω–µ —î –æ–±–æ–≤ º—è–∑–∫–æ–≤–∏–º).</li>
          {% endif %}

          {% if license.require_linkback %}
            <li>–ù–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–∞–ª–∏—à–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ Proofly / —Å—Ç–æ—Ä—ñ–Ω–∫—É –º–æ–¥–µ–ª—ñ, —è–∫—â–æ —Ü–µ —Ç–µ—Ö–Ω—ñ—á–Ω–æ –º–æ–∂–ª–∏–≤–æ.</li>
          {% endif %}

          {% if license.region %}
            <li>–Æ—Ä–∏—Å–¥–∏–∫—Ü—ñ—è / —Ä–µ–≥—ñ–æ–Ω –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –ª—ñ—Ü–µ–Ω–∑—ñ—ó: {{ license.region }}.</li>
          {% endif %}
        </ul>
      </div>

      {% if license.summary %}
        <div class="lic-public-help">
          {{ license.summary }}
        </div>
      {% endif %}
    </section>

    <section class="lic-public-card">
      <h2>–ü–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç –ª—ñ—Ü–µ–Ω–∑—ñ—ó</h2>
      {% if license.body %}
        <div class="lic-public-body">
          {{ license.body }}
        </div>
      {% elif license.type == 'cc' and license.external_url %}
        <div class="lic-public-body">
          –¶—è –ª—ñ—Ü–µ–Ω–∑—ñ—è –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ñ Creative Commons:
          <br>
          <a href="{{ license.external_url }}" target="_blank" rel="noopener" style="color:#93c5fd;text-decoration:underline;">
            {{ license.external_url }}
          </a>
        </div>
      {% else %}
        <div class="lic-public-body">
          –ü–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç —Ü—ñ—î—ó –ª—ñ—Ü–µ–Ω–∑—ñ—ó —â–µ –Ω–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–π. –ü–æ–∫–∏ —â–æ –∫–æ—Ä–∏—Å—Ç—É–π—Å—è –∫–æ—Ä–æ—Ç–∫–∏–º –æ–ø–∏—Å–æ–º –≤–∏—â–µ
          —Ç–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º–∏ —É–º–æ–≤–∞–º–∏ –∞–≤—Ç–æ—Ä—Å—å–∫–æ–≥–æ –ø—Ä–∞–≤–∞.
        </div>
      {% endif %}

      <div class="lic-public-footer">
        –¶—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –º–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∏–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä. –£ —Ä–∞–∑—ñ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É –∑ –ª–æ–∫–∞–ª—å–Ω–∏–º –∑–∞–∫–æ–Ω–æ–¥–∞–≤—Å—Ç–≤–æ–º
        –ø–µ—Ä–µ–≤–∞–∂–Ω—É —Å–∏–ª—É –º–∞—î —á–∏–Ω–Ω–µ –∞–≤—Ç–æ—Ä—Å—å–∫–µ –ø—Ä–∞–≤–æ —Ç–∞ —É–º–æ–≤–∏, —è–≤–Ω–æ –∑–∞–∑–Ω–∞—á–µ–Ω—ñ –∞–≤—Ç–æ—Ä–æ–º –º–æ–¥–µ–ª—ñ.
      </div>
    </section>

    {% if other_licenses %}
      <section class="lic-public-card">
        <h3>–Ü–Ω—à—ñ –ª—ñ—Ü–µ–Ω–∑—ñ—ó –Ω–∞ Proofly</h3>
        <div class="lic-public-other">
          {% for l in other_licenses %}
            <a class="lic-public-link-btn"
               href="{{ url_for('licenses.view_license', code=l.code) }}">
              üìú {{ l.name }}
            </a>
          {% endfor %}
        </div>
      </section>
    {% endif %}
  {% else %}
    <!-- –Ø–∫—â–æ –≤ —à–∞–±–ª–æ–Ω –Ω–µ –ø–µ—Ä–µ–¥–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –ª—ñ—Ü–µ–Ω–∑—ñ—é ‚Äî –ø–æ–∫–∞–∑—É—î–º–æ –∑–∞–≥–∞–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫ -->
    <header class="lic-public-header">
      <div class="lic-public-title">–õ—ñ—Ü–µ–Ω—Ü—ñ—ó STL –Ω–∞ Proofly</div>
      <div class="lic-public-sub">
        –¢—É—Ç –∑—ñ–±—Ä–∞–Ω—ñ –≤—Å—ñ –æ—Å–Ω–æ–≤–Ω—ñ –ª—ñ—Ü–µ–Ω–∑—ñ—ó, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –Ω–∞ Proofly STL Market.
        –û–±–µ—Ä–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É, —â–æ–± –ø–æ–¥–∏–≤–∏—Ç–∏—Å—è –¥–µ—Ç–∞–ª—ñ.
      </div>
    </header>

    <section class="lic-public-card">
      <h2>–î–æ—Å—Ç—É–ø–Ω—ñ –ª—ñ—Ü–µ–Ω–∑—ñ—ó</h2>
      {% if licenses %}
        <ul>
          {% for l in licenses %}
            <li style="margin-bottom:6px;font-size:13px;">
              <a href="{{ url_for('licenses.view_license', code=l.code) }}"
                 style="color:#93c5fd;text-decoration:underline;">
                {{ l.name }}
              </a>
              <span class="lic-public-code" style="margin-left:6px;">{{ l.code }}</span>
              {% if l.short_title %}
                ‚Äî <span style="opacity:.85;">{{ l.short_title }}</span>
              {% endif %}
              {% if l.is_default %}
                <span class="lic-public-badge" style="margin-left:6px;">‚≠ê –î–µ—Ñ–æ–ª—Ç–Ω–∞</span>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <div class="lic-public-help">
          –ü–æ–∫–∏ —â–æ –∂–æ–¥–Ω–æ—ó –ª—ñ—Ü–µ–Ω–∑—ñ—ó –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ. –ê–¥–º—ñ–Ω –º–æ–∂–µ –¥–æ–¥–∞—Ç–∏ —ó—Ö —É ¬´–ú–µ–Ω–µ–¥–∂–µ—Ä—ñ –ª—ñ—Ü–µ–Ω–∑—ñ–π¬ª.
        </div>
      {% endif %}
    </section>
  {% endif %}
</div>
{% endblock %}
