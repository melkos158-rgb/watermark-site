{# templates/market/_empty.html #}
{% set q = request.args.get('q','') %}
{% set cat = request.args.get('cat','') %}
{% set sort = request.args.get('sort','new') %}

<div class="empty">
  <img
    src="{{ url_for('static', filename='img/filters-base.jpg') if 'filters-base.jpg' in ([]) else url_for('static', filename='img/placeholder_stl.jpg') }}"
    alt="Nothing found"
    loading="lazy"
  >

  <h3 style="margin:8px 0 4px 0">{{ _('Нічого не знайдено') }}</h3>

  {% if q or cat %}
    <p style="opacity:.85">
      {% if q %} {{ _('Запит') }}: <strong>“{{ q }}”</strong>. {% endif %}
      {% if cat %} {{ _('Категорія') }}: <strong>{{ cat }}</strong>. {% endif %}
    </p>
    <div class="empty-actions">
      <a class="btn" href="{{ url_for('market.index') }}">{{ _('Очистити фільтри') }}</a>
      <a class="btn primary" href="#" id="btn-upload">{{ _('+ Додати модель') }}</a>
    </div>
  {% else %}
    <p style="opacity:.85">{{ _('Спробуй змінити запит, вибрати іншу категорію або додати свою модель.') }}</p>
    <div class="empty-actions">
      <a class="btn" href="{{ url_for('market.index') }}?sort=popular">{{ _('Переглянути популярні') }}</a>
      <a class="btn primary" href="#" id="btn-upload">{{ _('+ Додати модель') }}</a>
    </div>
  {% endif %}
</div>

<style>
.empty{
  text-align:center;
  background:var(--card);
  border:1px solid var(--line);
  border-radius:12px;
  padding:18px;
  color:var(--text);
}
.empty img{
  width:180px;height:120px;object-fit:cover;
  border-radius:10px;border:1px solid var(--line);
  margin-bottom:8px;
}
.empty .btn{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:10px;
  padding:8px 12px;
  color:var(--text);
  text-decoration:none;
  display:inline-flex;align-items:center;gap:6px;
}
.empty .btn.primary{ background:var(--accent); border-color:var(--accent); color:#fff; }
.empty-actions{ display:flex; gap:8px; justify-content:center; margin-top:10px; flex-wrap:wrap; }
</style>
