<nav class="navbar">
  <ul class="nav">
    <!-- ПУБЛІЧНІ (видно всім) -->
    <li><a class="{{ 'active' if request.endpoint=='index' else '' }}" href="{{ url_for('index') }}">Головна</a></li>
    <li><a class="{{ 'active' if request.endpoint=='stl' else '' }}" href="{{ url_for('stl') }}">STL3D</a></li>
    <li><a class="{{ 'active' if request.endpoint=='video' else '' }}" href="{{ url_for('video') }}">Video</a></li>
    <li><a class="{{ 'active' if request.endpoint=='enhance' else '' }}" href="{{ url_for('enhance') }}">Photo Enhance</a></li>
    <li><a class="{{ 'active' if request.endpoint=='edit_photo' else '' }}" href="{{ url_for('edit_photo') }}">Edit Photo</a></li>

    <!-- ПРАВА ЧАСТИНА -->
    <li class="ml-auto">
      {% set is_auth = (current_user is defined and current_user.is_authenticated) %}
      {% if is_auth %}
        <!-- ПРИВАТНІ (лише після входу) -->
        <a class="{{ 'active' if request.endpoint=='top100' else '' }}" href="{{ url_for('top100') }}">Top PXP</a>
        &nbsp;|&nbsp;
        <a class="{{ 'active' if request.endpoint=='donate' else '' }}" href="{{ url_for('donate') }}">Donate</a>
        &nbsp;|&nbsp;
        <a class="{{ 'active' if request.endpoint=='profile' else '' }}" href="{{ url_for('profile') }}">Профіль</a>
        &nbsp;|&nbsp;
        {{ (current_user.name or current_user.email)|default('', true) }}
        &nbsp;|&nbsp; PXP: {{ pxp|default(0, true) }}
        &nbsp;<a href="{{ url_for('logout') }}">Вийти</a>
      {% else %}
        PXP: {{ pxp|default(0, true) }}
        &nbsp;<a class="{{ 'active' if request.endpoint=='login' else '' }}" href="{{ url_for('login', next=request.full_path if request.query_string else request.path) }}">Увійти</a>
        &nbsp;<a class="{{ 'active' if request.endpoint=='register' else '' }}" href="{{ url_for('register', next=request.full_path if request.query_string else request.path) }}">Реєстрація</a>
      {% endif %}
    </li>
  </ul>
</nav>

<style>
  .navbar{background:#0b0d12;border-bottom:1px solid #1b2131}
  .nav{max-width:1100px;margin:0 auto;display:flex;align-items:center;gap:16px;
       height:56px;padding:0 20px;list-style:none}
  .nav a{color:#e8eaed;text-decoration:none;padding:4px 6px;border-bottom:2px solid transparent}
  .nav a.active{border-bottom-color:#6ea8fe}
  .ml-auto{margin-left:auto;display:flex;align-items:center;gap:10px}
</style>
